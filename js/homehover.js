var Delaunay;!function(){"use strict";function e(e){var t,i,n,r,o,s,a=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY;for(t=e.length;t--;)e[t][0]<a&&(a=e[t][0]),e[t][0]>c&&(c=e[t][0]),e[t][1]<l&&(l=e[t][1]),e[t][1]>d&&(d=e[t][1]);return i=c-a,n=d-l,r=Math.max(i,n),o=a+.5*i,s=l+.5*n,[[o-20*r,s-r],[o,s+20*r],[o+20*r,s-r]]}function t(e,t,i,r){var o,s,a,l,c,d,u,h,f,p,m=e[t][0],g=e[t][1],_=e[i][0],b=e[i][1],y=e[r][0],S=e[r][1],v=Math.abs(g-b),x=Math.abs(b-S);if(v<n&&x<n)throw new Error("Eek! Coincident points!");return v<n?s=(l=-(y-_)/(S-b))*((o=(_+m)/2)-(d=(_+y)/2))+(h=(b+S)/2):x<n?s=(a=-(_-m)/(b-g))*((o=(y+_)/2)-(c=(m+_)/2))+(u=(g+b)/2):(o=((a=-(_-m)/(b-g))*(c=(m+_)/2)-(l=-(y-_)/(S-b))*(d=(_+y)/2)+(h=(b+S)/2)-(u=(g+b)/2))/(a-l),s=v>x?a*(o-c)+u:l*(o-d)+h),f=_-o,p=b-s,{i:t,j:i,k:r,x:o,y:s,r:f*f+p*p}}function i(e){var t,i,n,r,o,s;for(i=e.length;i;)for(r=e[--i],n=e[--i],t=i;t;)if(s=e[--t],o=e[--t],n===o&&r===s||n===s&&r===o){e.splice(i,2),e.splice(t,2);break}}var n=1/1048576;Delaunay={triangulate:function(r,o){var s,a,l,c,d,u,h,f,p,m,g,_,b=r.length;if(b<3)return[];if(r=r.slice(0),o)for(s=b;s--;)r[s]=r[s][o];for(l=new Array(b),s=b;s--;)l[s]=s;for(l.sort(function(e,t){return r[t][0]-r[e][0]}),c=e(r),r.push(c[0],c[1],c[2]),d=[t(r,b+0,b+1,b+2)],u=[],h=[],s=l.length;s--;h.length=0){for(_=l[s],a=d.length;a--;)(f=r[_][0]-d[a].x)>0&&f*f>d[a].r?(u.push(d[a]),d.splice(a,1)):f*f+(p=r[_][1]-d[a].y)*p-d[a].r>n||(h.push(d[a].i,d[a].j,d[a].j,d[a].k,d[a].k,d[a].i),d.splice(a,1));for(i(h),a=h.length;a;)g=h[--a],m=h[--a],d.push(t(r,m,g,_))}for(s=d.length;s--;)u.push(d[s]);for(d.length=0,s=u.length;s--;)u[s].i<b&&u[s].j<b&&u[s].k<b&&d.push(u[s].i,u[s].j,u[s].k);return d},contains:function(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return null;var i=e[1][0]-e[0][0],n=e[2][0]-e[0][0],r=e[1][1]-e[0][1],o=e[2][1]-e[0][1],s=i*o-n*r;if(0===s)return null;var a=(o*(t[0]-e[0][0])-n*(t[1]-e[0][1]))/s,l=(i*(t[1]-e[0][1])-r*(t[0]-e[0][0]))/s;return a<0||l<0||a+l>1?null:[a,l]}},"undefined"!=typeof module&&(module.exports=Delaunay)}(),function(e,t,i){function n(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}function r(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return g[e.which]?g[e.which]:_[e.which]?_[e.which]:String.fromCharCode(e.which).toLowerCase()}function o(e){e=e||{};var t,i=!1;for(t in x)e[t]?i=!0:x[t]=0;i||(E=!1)}function s(e,t,i,n,r,o){var s,a,l=[],c=i.type;if(!S[e])return[];for("keyup"==c&&d(e)&&(t=[e]),s=0;s<S[e].length;++s)if(a=S[e][s],!(!n&&a.seq&&x[a.seq]!=a.level||c!=a.action||("keypress"!=c||i.metaKey||i.ctrlKey)&&t.sort().join(",")!==a.modifiers.sort().join(","))){var u=n&&a.seq==n&&a.level==o;(!n&&a.combo==r||u)&&S[e].splice(s,1),l.push(a)}return l}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function l(e,t,i,n){A.stopCallback(t,t.target||t.srcElement,i,n)||!1!==e(t,i)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function c(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=r(e);t&&("keyup"==e.type&&w===t?w=!1:A.handleKey(t,a(e),e))}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function u(e,t,i,n){for(var s=x[e]=0;s<t.length;++s){var a=s+1===t.length?function(t){l(i,t,e),"keyup"!==n&&(w=r(t)),setTimeout(o,10)}:function(t){return function(){E=t,++x[e],clearTimeout(m),m=setTimeout(o,1e3)}}(n||h(t[s+1]).action);f(t[s],a,n,e,s)}}function h(e,t){var i,n,r,o=[];for(i="+"===e?["+"]:e.split("+"),r=0;r<i.length;++r)n=i[r],y[n]&&(n=y[n]),t&&"keypress"!=t&&b[n]&&(n=b[n],o.push("shift")),d(n)&&o.push(n);if(i=n,!(r=t)){if(!p){p={};for(var s in g)95<s&&112>s||g.hasOwnProperty(s)&&(p[g[s]]=s)}r=p[i]?"keydown":"keypress"}return"keypress"==r&&o.length&&(r="keydown"),{key:n,modifiers:o,action:r}}function f(e,t,i,n,r){v[e+":"+i]=t;var o=(e=e.replace(/\s+/g," ")).split(" ");1<o.length?u(e,o,t,i):(i=h(e,i),S[i.key]=S[i.key]||[],s(i.key,i.modifiers,{type:i.action},n,e,r),S[i.key][n?"unshift":"push"]({callback:t,modifiers:i.modifiers,action:i.action,seq:n,level:r,combo:e}))}var p,m,g={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},_={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},b={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},y={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},S={},v={},x={},w=!1,C=!1,E=!1;for(i=1;20>i;++i)g[111+i]="f"+i;for(i=0;9>=i;++i)g[i+96]=i;n(t,"keypress",c),n(t,"keydown",c),n(t,"keyup",c);var A={bind:function(e,t,i){e=e instanceof Array?e:[e];for(var n=0;n<e.length;++n)f(e[n],t,i);return this},unbind:function(e,t){return A.bind(e,function(){},t)},trigger:function(e,t){return v[e+":"+t]&&v[e+":"+t]({},e),this},reset:function(){return S={},v={},this},stopCallback:function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap "))&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},handleKey:function(e,t,i){var n,r=s(e,t,i);t={};var a=0,c=!1;for(n=0;n<r.length;++n)r[n].seq&&(a=Math.max(a,r[n].level));for(n=0;n<r.length;++n)r[n].seq?r[n].level==a&&(c=!0,t[r[n].seq]=1,l(r[n].callback,i,r[n].combo,r[n].seq)):c||l(r[n].callback,i,r[n].combo);r="keypress"==i.type&&C,i.type!=E||d(e)||r||o(t),C=c&&"keydown"==i.type}};e.Mousetrap=A,"function"==typeof define&&define.amd&&define(A)}(window,document),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(e){return}var i,n=e.href||e.getAttribute("data-href"),r=n.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(r)||[""])[0],s=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(r)||[""])[0],a=/^([^?]*)\??/.exec(n)[1],l=e.parentNode,c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&i()},i=function(){var i=c.responseText;if(i&&e.parentNode&&(!c.status||c.status<400||c.status>600)){if(i=t.fix(i,!0,e),r){i=i.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,i){return/^([a-z]{3,10}:|#)/i.test(i)?e:/^\/\//.test(i)?'url("'+o+i+'")':/^\//.test(i)?'url("'+s+i+'")':/^\?/.test(i)?'url("'+a+i+'")':'url("'+r+i+'")'});var n=r.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");i=i.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+n,"gi"),"$1")}var d=document.createElement("style");d.textContent=i,d.media=e.media,d.disabled=e.disabled,d.setAttribute("data-href",e.getAttribute("href")),l.insertBefore(d,e),l.removeChild(e),d.media=e.media}};try{c.open("GET",n)}catch(e){"undefined"!=typeof XDomainRequest&&((c=new XDomainRequest).onerror=c.onprogress=function(){},c.onload=i,c.open("GET",n),c.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var i=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=i}},styleAttribute:function(e){var i=e.getAttribute("style");i=t.fix(i,!1,e),e.setAttribute("style",i)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,i){(t.fixers=t.fixers||[]).splice(void 0===i?t.fixers.length:i,0,e)},fix:function(e,i,n){for(var r=0;r<t.fixers.length;r++)e=t.fixers[r](e,i,n)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(e){function t(e,t,n,r,o){if((e=i[e]).length){var s=RegExp(t+"("+e.join("|")+")"+n,"gi");o=o.replace(s,r)}return o}if(window.StyleFix&&window.getComputedStyle){var i=window.PrefixFree={prefixCSS:function(e,n,r){var o=i.prefix;if(i.functions.indexOf("linear-gradient")>-1&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,i,n){return t+(i||"")+"linear-gradient("+(90-n)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+o+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+o+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+o+"$2:",e),i.properties.length){var s=RegExp("\\b("+i.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(s,o+"$1")},e)}return n&&(e=t("selectors","","\\b",i.prefixSelector,e),e=t("atrules","@","\\b","@"+o+"$1",e)),e=e.replace(RegExp("-"+o,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,i.prefix)},property:function(e){return(i.properties.indexOf(e)?i.prefix:"")+e},value:function(e,n){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+i.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+i.prefix+"$2$3",e)},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+i.prefix})},prefixProperty:function(e,t){var n=i.prefix+e;return t?StyleFix.camelCase(n):n}};!function(){var e={},t=[],n=getComputedStyle(document.documentElement,null),r=document.createElement("div").style,o=function(i){if("-"===i.charAt(0)){t.push(i);var n=i.split("-"),r=n[1];for(e[r]=++e[r]||1;n.length>3;){n.pop();var o=n.join("-");s(o)&&-1===t.indexOf(o)&&t.push(o)}}},s=function(e){return StyleFix.camelCase(e)in r};if(n.length>0)for(u=0;u<n.length;u++)o(n[u]);else for(var a in n)o(StyleFix.deCamelCase(a));var l={uses:0};for(var c in e){var d=e[c];l.uses<d&&(l={prefix:c,uses:d})}i.prefix="-"+l.prefix+"-",i.Prefix=StyleFix.camelCase(i.prefix),i.properties=[];for(var u=0;u<t.length;u++)if(0===(a=t[u]).indexOf(i.prefix)){var h=a.slice(i.prefix.length);s(h)||i.properties.push(h)}"Ms"==i.Prefix&&!("transform"in r)&&!("MsTransform"in r)&&"msTransform"in r&&i.properties.push("transform","transform-origin"),i.properties.sort()}(),function(){function e(e,t){return r[t]="",r[t]=e,!!r[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var n={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","min-content":"width"};i.functions=[],i.keywords=[];var r=document.createElement("div").style;for(var o in t){var s=t[o],a=s.property,l=o+"("+s.params+")";!e(l,a)&&e(i.prefix+l,a)&&i.functions.push(o)}for(var c in n)!e(c,a=n[c])&&e(i.prefix+c,a)&&i.keywords.push(c)}(),function(){function t(e){return o.textContent=e+"{}",!!o.sheet.cssRules.length}var n={":read-only":null,":read-write":null,":any-link":null,"::selection":null},r={keyframes:"name",viewport:null,document:'regexp(".")'};i.selectors=[],i.atrules=[];var o=e.appendChild(document.createElement("style"));for(var s in n)!t(l=s+(n[s]?"("+n[s]+")":""))&&t(i.prefixSelector(l))&&i.selectors.push(s);for(var a in r){var l=a+" "+(r[a]||"");!t("@"+l)&&t("@"+i.prefix+l)&&i.atrules.push(a)}e.removeChild(o)}(),i.valueProperties=["transition","transition-property"],e.className+=" "+i.prefix,StyleFix.register(i.prefixCSS)}}(document.documentElement),FSS={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"},FSS.Array="function"==typeof Float32Array?Float32Array:Array,FSS.Utils={isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+r)},r);return e=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Math.PIM2=2*Math.PI,Math.PID2=Math.PI/2,Math.randomInRange=function(e,t){return e+(t-e)*Math.random()},Math.clamp=function(e,t,i){return e=Math.max(e,t),e=Math.min(e,i)},FSS.Vector3={create:function(e,t,i){var n=new FSS.Array(3);return this.set(n,e,t,i),n},clone:function(e){var t=this.create();return this.copy(t,e),t},set:function(e,t,i,n){return e[0]=t||0,e[1]=i||0,e[2]=n||0,this},setX:function(e,t){return e[0]=t||0,this},setY:function(e,t){return e[1]=t||0,this},setZ:function(e,t){return e[2]=t||0,this},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],this},add:function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],this},addVectors:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],this},addScalar:function(e,t){return e[0]+=t,e[1]+=t,e[2]+=t,this},subtract:function(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],this},subtractVectors:function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],this},subtractScalar:function(e,t){return e[0]-=t,e[1]-=t,e[2]-=t,this},multiply:function(e,t){return e[0]*=t[0],e[1]*=t[1],e[2]*=t[2],this},multiplyVectors:function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],this},multiplyScalar:function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,this},divide:function(e,t){return e[0]/=t[0],e[1]/=t[1],e[2]/=t[2],this},divideVectors:function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],this},divideScalar:function(e,t){return 0!==t?(e[0]/=t,e[1]/=t,e[2]/=t):(e[0]=0,e[1]=0,e[2]=0),this},cross:function(e,t){var i=e[0],n=e[1],r=e[2];return e[0]=n*t[2]-r*t[1],e[1]=r*t[0]-i*t[2],e[2]=i*t[1]-n*t[0],this},crossVectors:function(e,t,i){return e[0]=t[1]*i[2]-t[2]*i[1],e[1]=t[2]*i[0]-t[0]*i[2],e[2]=t[0]*i[1]-t[1]*i[0],this},min:function(e,t){return e[0]<t&&(e[0]=t),e[1]<t&&(e[1]=t),e[2]<t&&(e[2]=t),this},max:function(e,t){return e[0]>t&&(e[0]=t),e[1]>t&&(e[1]=t),e[2]>t&&(e[2]=t),this},clamp:function(e,t,i){return this.min(e,t),this.max(e,i),this},limit:function(e,t,i){var n=this.length(e);return null!==t&&n<t?this.setLength(e,t):null!==i&&n>i&&this.setLength(e,i),this},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},normalise:function(e){return this.divideScalar(e,this.length(e))},negate:function(e){return this.multiplyScalar(e,-1)},distanceSquared:function(e,t){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r},distance:function(e,t){return Math.sqrt(this.distanceSquared(e,t))},lengthSquared:function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},length:function(e){return Math.sqrt(this.lengthSquared(e))},setLength:function(e,t){var i=this.length(e);return 0!==i&&t!==i&&this.multiplyScalar(e,t/i),this}},FSS.Vector4={create:function(e,t,i,n){var r=new FSS.Array(4);return this.set(r,e,t,i),r},set:function(e,t,i,n,r){return e[0]=t||0,e[1]=i||0,e[2]=n||0,e[3]=r||0,this},setX:function(e,t){return e[0]=t||0,this},setY:function(e,t){return e[1]=t||0,this},setZ:function(e,t){return e[2]=t||0,this},setW:function(e,t){return e[3]=t||0,this},add:function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],this},multiplyVectors:function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],this},multiplyScalar:function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,this},min:function(e,t){return e[0]<t&&(e[0]=t),e[1]<t&&(e[1]=t),e[2]<t&&(e[2]=t),e[3]<t&&(e[3]=t),this},max:function(e,t){return e[0]>t&&(e[0]=t),e[1]>t&&(e[1]=t),e[2]>t&&(e[2]=t),e[3]>t&&(e[3]=t),this},clamp:function(e,t,i){return this.min(e,t),this.max(e,i),this}},FSS.Color=function(e,t){this.rgba=FSS.Vector4.create(),this.hex=e||"#000000",this.opacity=FSS.Utils.isNumber(t)?t:1,this.set(this.hex,this.opacity)},FSS.Color.prototype={set:function(e,t){var i=(e=e.replace("#","")).length/3;return this.rgba[0]=parseInt(e.substring(0*i,1*i),16)/255,this.rgba[1]=parseInt(e.substring(1*i,2*i),16)/255,this.rgba[2]=parseInt(e.substring(2*i,3*i),16)/255,this.rgba[3]=FSS.Utils.isNumber(t)?t:this.rgba[3],this},hexify:function(e){var t=Math.ceil(255*e).toString(16);return 1===t.length&&(t="0"+t),t},format:function(){var e=this.hexify(this.rgba[0]),t=this.hexify(this.rgba[1]),i=this.hexify(this.rgba[2]);return this.hex="#"+e+t+i,this.hex}},FSS.Object=function(){this.position=FSS.Vector3.create()},FSS.Object.prototype={setPosition:function(e,t,i){return FSS.Vector3.set(this.position,e,t,i),this}},FSS.Light=function(e,t){FSS.Object.call(this),this.ambient=new FSS.Color(e||"#FFFFFF"),this.diffuse=new FSS.Color(t||"#FFFFFF"),this.ray=FSS.Vector3.create()},FSS.Light.prototype=Object.create(FSS.Object.prototype),FSS.Vertex=function(e,t,i){this.position=FSS.Vector3.create(e,t,i)},FSS.Vertex.prototype={setPosition:function(e,t,i){return FSS.Vector3.set(this.position,e,t,i),this}},FSS.Triangle=function(e,t,i){this.a=e||new FSS.Vertex,this.b=t||new FSS.Vertex,this.c=i||new FSS.Vertex,this.vertices=[this.a,this.b,this.c],this.u=FSS.Vector3.create(),this.v=FSS.Vector3.create(),this.centroid=FSS.Vector3.create(),this.normal=FSS.Vector3.create(),this.color=new FSS.Color,this.polygon=document.createElementNS(FSS.SVGNS,"polygon"),this.polygon.setAttributeNS(null,"stroke-linejoin","round"),this.polygon.setAttributeNS(null,"stroke-miterlimit","1"),this.polygon.setAttributeNS(null,"stroke-width","1"),this.computeCentroid(),this.computeNormal()},FSS.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],FSS.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return FSS.Vector3.subtractVectors(this.u,this.b.position,this.a.position),FSS.Vector3.subtractVectors(this.v,this.c.position,this.a.position),FSS.Vector3.crossVectors(this.normal,this.u,this.v),FSS.Vector3.normalise(this.normal),this}},FSS.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},FSS.Geometry.prototype={update:function(){if(this.dirty){var e,t;for(e=this.triangles.length-1;e>=0;e--)(t=this.triangles[e]).computeCentroid(),t.computeNormal();this.dirty=!1}return this}},FSS.Plane=function(e,t,i){FSS.Geometry.call(this),this.width=e||100,this.height=t||100;var n,r,o=new Array(i);for(offsetX=-.5*this.width,offsetY=.5*this.height,s=o.length;s--;)n=offsetX+Math.random()*e,r=offsetY-Math.random()*t,o[s]=[n,r];o.push([offsetX,offsetY]),o.push([offsetX+e/2,offsetY]),o.push([offsetX+e,offsetY]),o.push([offsetX+e,offsetY-t/2]),o.push([offsetX+e,offsetY-t]),o.push([offsetX+e/2,offsetY-t]),o.push([offsetX,offsetY-t]),o.push([offsetX,offsetY-t/2]);for(var s=6;s>=0;s--)o.push([offsetX+Math.random()*e,offsetY]),o.push([offsetX,offsetY-Math.random()*t]),o.push([offsetX+e,offsetY-Math.random()*t]),o.push([offsetX+Math.random()*e,offsetY-t]);var a=Delaunay.triangulate(o);for(s=a.length;s;){--s;var l=[Math.ceil(o[a[s]][0]),Math.ceil(o[a[s]][1])];--s;var c=[Math.ceil(o[a[s]][0]),Math.ceil(o[a[s]][1])];--s;var d=[Math.ceil(o[a[s]][0]),Math.ceil(o[a[s]][1])];t1=new FSS.Triangle(new FSS.Vertex(l[0],l[1]),new FSS.Vertex(c[0],c[1]),new FSS.Vertex(d[0],d[1])),this.triangles.push(t1)}},FSS.Plane.prototype=Object.create(FSS.Geometry.prototype),FSS.Material=function(e,t){this.ambient=new FSS.Color(e||"#444444"),this.diffuse=new FSS.Color(t||"#FFFFFF"),this.slave=new FSS.Color},FSS.Mesh=function(e,t){FSS.Object.call(this),this.geometry=e||new FSS.Geometry,this.material=t||new FSS.Material,this.side=FSS.FRONT,this.visible=!0},FSS.Mesh.prototype=Object.create(FSS.Object.prototype),FSS.Mesh.prototype.update=function(e,t){var i,n,r,o,s;if(this.geometry.update(),t)for(i=this.geometry.triangles.length-1;i>=0;i--){for(n=this.geometry.triangles[i],FSS.Vector4.set(n.color.rgba),r=e.length-1;r>=0;r--)o=e[r],FSS.Vector3.subtractVectors(o.ray,o.position,n.centroid),FSS.Vector3.normalise(o.ray),s=FSS.Vector3.dot(n.normal,o.ray),this.side===FSS.FRONT?s=Math.max(s,0):this.side===FSS.BACK?s=Math.abs(Math.min(s,0)):this.side===FSS.DOUBLE&&(s=Math.max(Math.abs(s),0)),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,o.ambient.rgba),FSS.Vector4.add(n.color.rgba,this.material.slave.rgba),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,o.diffuse.rgba),FSS.Vector4.multiplyScalar(this.material.slave.rgba,s),FSS.Vector4.add(n.color.rgba,this.material.slave.rgba);FSS.Vector4.clamp(n.color.rgba,0,1)}return this},FSS.Scene=function(){this.meshes=[],this.lights=[]},FSS.Scene.prototype={add:function(e){return e instanceof FSS.Mesh&&!~this.meshes.indexOf(e)?this.meshes.push(e):e instanceof FSS.Light&&!~this.lights.indexOf(e)&&this.lights.push(e),this},remove:function(e){return e instanceof FSS.Mesh&&~this.meshes.indexOf(e)?this.meshes.splice(this.meshes.indexOf(e),1):e instanceof FSS.Light&&~this.lights.indexOf(e)&&this.lights.splice(this.lights.indexOf(e),1),this}},FSS.Renderer=function(){this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0},FSS.Renderer.prototype={setSize:function(e,t){if(this.width!==e||this.height!==t)return this.width=e,this.height=t,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this},clear:function(){return this},render:function(e){return this}},FSS.CanvasRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.context=this.element.getContext("2d"),this.setSize(this.element.width,this.element.height)},FSS.CanvasRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.CanvasRenderer.prototype.setSize=function(e,t){return FSS.Renderer.prototype.setSize.call(this,e,t),this.element.width=e,this.element.height=t,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},FSS.CanvasRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},FSS.CanvasRenderer.prototype.render=function(e){FSS.Renderer.prototype.render.call(this,e);var t,i,n,r,o;for(this.clear(),this.context.lineJoin="round",this.context.lineWidth=1,t=e.meshes.length-1;t>=0;t--)if((i=e.meshes[t]).visible)for(i.update(e.lights,!0),n=i.geometry.triangles.length-1;n>=0;n--)o=(r=i.geometry.triangles[n]).color.format(),this.context.beginPath(),this.context.moveTo(r.a.position[0],r.a.position[1]),this.context.lineTo(r.b.position[0],r.b.position[1]),this.context.lineTo(r.c.position[0],r.c.position[1]),this.context.closePath(),this.context.strokeStyle=o,this.context.fillStyle=o,this.context.stroke(),this.context.fill();return this},FSS.WebGLRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.vertices=null,this.lights=null;var e={preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0,stencil:!0,alpha:!0};if(this.gl=this.getContext(this.element,e),this.unsupported=!this.gl,this.unsupported)return"WebGL is not supported by your browser.";this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),this.setSize(this.element.width,this.element.height)},FSS.WebGLRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.WebGLRenderer.prototype.getContext=function(e,t){var i=!1;try{if(!(i=e.getContext("experimental-webgl",t)))throw"Error creating WebGL context."}catch(e){console.error(e)}return i},FSS.WebGLRenderer.prototype.setSize=function(e,t){if(FSS.Renderer.prototype.setSize.call(this,e,t),!this.unsupported)return this.element.width=e,this.element.height=t,this.gl.viewport(0,0,e,t),this},FSS.WebGLRenderer.prototype.clear=function(){if(FSS.Renderer.prototype.clear.call(this),!this.unsupported)return this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this},FSS.WebGLRenderer.prototype.render=function(e){if(FSS.Renderer.prototype.render.call(this,e),!this.unsupported){var t,i,n,r,o,s,a,l,c,d,u,h,f,p,m,g=!1,_=e.lights.length,b=0;if(this.clear(),this.lights!==_){if(this.lights=_,!(this.lights>0))return;this.buildProgram(_)}if(this.program){for(t=e.meshes.length-1;t>=0;t--)(i=e.meshes[t]).geometry.dirty&&(g=!0),i.update(e.lights,!1),b+=3*i.geometry.triangles.length;if(g||this.vertices!==b){this.vertices=b;for(l in this.program.attributes){for((d=this.program.attributes[l]).data=new FSS.Array(b*d.size),f=0,t=e.meshes.length-1;t>=0;t--)for(n=0,r=(i=e.meshes[t]).geometry.triangles.length;n<r;n++)for(p=0,m=(o=i.geometry.triangles[n]).vertices.length;p<m;p++){switch(vertex=o.vertices[p],l){case"side":this.setBufferData(f,d,i.side);break;case"position":this.setBufferData(f,d,vertex.position);break;case"centroid":this.setBufferData(f,d,o.centroid);break;case"normal":this.setBufferData(f,d,o.normal);break;case"ambient":this.setBufferData(f,d,i.material.ambient.rgba);break;case"diffuse":this.setBufferData(f,d,i.material.diffuse.rgba)}f++}this.gl.bindBuffer(this.gl.ARRAY_BUFFER,d.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,d.data,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(d.location),this.gl.vertexAttribPointer(d.location,d.size,this.gl.FLOAT,!1,0,0)}}for(this.setBufferData(0,this.program.uniforms.resolution,[this.width,this.height,this.width]),s=_-1;s>=0;s--)a=e.lights[s],this.setBufferData(s,this.program.uniforms.lightPosition,a.position),this.setBufferData(s,this.program.uniforms.lightAmbient,a.ambient.rgba),this.setBufferData(s,this.program.uniforms.lightDiffuse,a.diffuse.rgba);for(c in this.program.uniforms)switch(d=this.program.uniforms[c],h=d.location,u=d.data,d.structure){case"3f":this.gl.uniform3f(h,u[0],u[1],u[2]);break;case"3fv":this.gl.uniform3fv(h,u);break;case"4fv":this.gl.uniform4fv(h,u)}}return this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices),this}},FSS.WebGLRenderer.prototype.setBufferData=function(e,t,i){if(FSS.Utils.isNumber(i))t.data[e*t.size]=i;else for(var n=i.length-1;n>=0;n--)t.data[e*t.size+n]=i[n]},FSS.WebGLRenderer.prototype.buildProgram=function(e){if(!this.unsupported){var t=FSS.WebGLRenderer.VS(e),i=FSS.WebGLRenderer.FS(e),n=t+i;if(!this.program||this.program.code!==n){var r=this.gl.createProgram(),o=this.buildShader(this.gl.VERTEX_SHADER,t),s=this.buildShader(this.gl.FRAGMENT_SHADER,i);if(this.gl.attachShader(r,o),this.gl.attachShader(r,s),this.gl.linkProgram(r),!this.gl.getProgramParameter(r,this.gl.LINK_STATUS)){var a=this.gl.getError(),l=this.gl.getProgramParameter(r,this.gl.VALIDATE_STATUS);return console.error("Could not initialise shader.\nVALIDATE_STATUS: "+l+"\nERROR: "+a),null}return this.gl.deleteShader(s),this.gl.deleteShader(o),r.code=n,r.attributes={side:this.buildBuffer(r,"attribute","aSide",1,"f"),position:this.buildBuffer(r,"attribute","aPosition",3,"v3"),centroid:this.buildBuffer(r,"attribute","aCentroid",3,"v3"),normal:this.buildBuffer(r,"attribute","aNormal",3,"v3"),ambient:this.buildBuffer(r,"attribute","aAmbient",4,"v4"),diffuse:this.buildBuffer(r,"attribute","aDiffuse",4,"v4")},r.uniforms={resolution:this.buildBuffer(r,"uniform","uResolution",3,"3f",1),lightPosition:this.buildBuffer(r,"uniform","uLightPosition",3,"3fv",e),lightAmbient:this.buildBuffer(r,"uniform","uLightAmbient",4,"4fv",e),lightDiffuse:this.buildBuffer(r,"uniform","uLightDiffuse",4,"4fv",e)},this.program=r,this.gl.useProgram(this.program),r}}},FSS.WebGLRenderer.prototype.buildShader=function(e,t){if(!this.unsupported){var i=this.gl.createShader(e);return this.gl.shaderSource(i,t),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.error(this.gl.getShaderInfoLog(i)),null)}},FSS.WebGLRenderer.prototype.buildBuffer=function(e,t,i,n,r,o){var s={buffer:this.gl.createBuffer(),size:n,structure:r,data:null};switch(t){case"attribute":s.location=this.gl.getAttribLocation(e,i);break;case"uniform":s.location=this.gl.getUniformLocation(e,i)}return o&&(s.data=new FSS.Array(o*n)),s},FSS.WebGLRenderer.VS=function(e){return["precision mediump float;","#define LIGHTS "+e,"attribute float aSide;","attribute vec3 aPosition;","attribute vec3 aCentroid;","attribute vec3 aNormal;","attribute vec4 aAmbient;","attribute vec4 aDiffuse;","uniform vec3 uResolution;","uniform vec3 uLightPosition[LIGHTS];","uniform vec4 uLightAmbient[LIGHTS];","uniform vec4 uLightDiffuse[LIGHTS];","varying vec4 vColor;","void main() {","vColor = vec4(0.0);","vec3 position = aPosition / uResolution * 2.0;","for (int i = 0; i < LIGHTS; i++) {","vec3 lightPosition = uLightPosition[i];","vec4 lightAmbient = uLightAmbient[i];","vec4 lightDiffuse = uLightDiffuse[i];","vec3 ray = normalize(lightPosition - aCentroid);","float illuminance = dot(aNormal, ray);","if (aSide == 0.0) {","illuminance = max(illuminance, 0.0);","} else if (aSide == 1.0) {","illuminance = abs(min(illuminance, 0.0));","} else if (aSide == 2.0) {","illuminance = max(abs(illuminance), 0.0);","}","vColor += aAmbient * lightAmbient;","vColor += aDiffuse * lightDiffuse * illuminance;","}","vColor = clamp(vColor, 0.0, 1.0);","gl_Position = vec4(position, 1.0);","}"].join("\n")},FSS.WebGLRenderer.FS=function(e){return["precision mediump float;","varying vec4 vColor;","void main() {","gl_FragColor = vColor;","}"].join("\n")},FSS.SVGRenderer=function(){FSS.Renderer.call(this),this.element=document.createElementNS(FSS.SVGNS,"svg"),this.element.setAttribute("xmlns",FSS.SVGNS),this.element.setAttribute("version","1.1"),this.element.style.display="block",this.setSize(300,150)},FSS.SVGRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.SVGRenderer.prototype.setSize=function(e,t){return FSS.Renderer.prototype.setSize.call(this,e,t),this.element.setAttribute("width",e),this.element.setAttribute("height",t),this},FSS.SVGRenderer.prototype.clear=function(){FSS.Renderer.prototype.clear.call(this);for(var e=this.element.childNodes.length-1;e>=0;e--)this.element.removeChild(this.element.childNodes[e]);return this},FSS.SVGRenderer.prototype.render=function(e){FSS.Renderer.prototype.render.call(this,e);var t,i,n,r,o,s;for(t=e.meshes.length-1;t>=0;t--)if((i=e.meshes[t]).visible)for(i.update(e.lights,!0),n=i.geometry.triangles.length-1;n>=0;n--)(r=i.geometry.triangles[n]).polygon.parentNode!==this.element&&this.element.appendChild(r.polygon),o=this.formatPoint(r.a)+" ",o+=this.formatPoint(r.b)+" ",o+=this.formatPoint(r.c),s=this.formatStyle(r.color.format()),r.polygon.setAttributeNS(null,"points",o),r.polygon.setAttributeNS(null,"style",s);return this},FSS.SVGRenderer.prototype.formatPoint=function(e){return this.halfWidth+e.position[0]+","+(this.halfHeight-e.position[1])},FSS.SVGRenderer.prototype.formatStyle=function(e){var t="fill:"+e+";";return t+="stroke:"+e+";"};var dat=dat||{};dat.gui=dat.gui||{},dat.utils=dat.utils||{},dat.controllers=dat.controllers||{},dat.dom=dat.dom||{},dat.color=dat.color||{},dat.utils.css={load:function(e,t){var i=(t=t||document).createElement("link");i.type="text/css",i.rel="stylesheet",i.href=e,t.getElementsByTagName("head")[0].appendChild(i)},inject:function(e,t){var t=t||document,i=document.createElement("style");i.type="text/css",i.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(i)}},dat.utils.common=function(){var e=Array.prototype.forEach,t=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(t.call(arguments,1),function(t){for(var i in t)this.isUndefined(t[i])||(e[i]=t[i])},this),e},defaults:function(e){return this.each(t.call(arguments,1),function(t){for(var i in t)this.isUndefined(e[i])&&(e[i]=t[i])},this),e},compose:function(){var e=t.call(arguments);return function(){for(var i=t.call(arguments),n=e.length-1;n>=0;n--)i=[e[n].apply(this,i)];return i[0]}},each:function(t,i,n){if(e&&t.forEach===e)t.forEach(i,n);else if(t.length===t.length+0)for(var r=0,o=t.length;r<o&&!(r in t&&i.call(n,t[r],r)===this.BREAK);r++);else for(r in t)if(i.call(n,t[r],r)===this.BREAK)break},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():t.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}}(),dat.controllers.Controller=function(e){var t=function(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onFinishChange=this.__onChange=void 0};return dat.utils.common.extend(t.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),t}(),dat.dom.dom=function(e){function t(t){return"0"===t||e.isUndefined(t)?0:(t=t.match(n),e.isNull(t)?0:parseFloat(t[1]))}var i={};e.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(t,n){e.each(t,function(e){i[e]=n})});var n=/(\d+(\.\d+)?)px/,r={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(t,i,n){e.isUndefined(i)&&(i=!0),e.isUndefined(n)&&(n=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),n&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,n,r,o){var r=r||{},s=i[n];if(!s)throw Error("Event type "+n+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":a.initMouseEvent(n,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,r.x||r.clientX||0,r.y||r.clientY||0,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":s=a.initKeyboardEvent||a.initKeyEvent,e.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),s(n,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:a.initEvent(n,r.bubbles||!1,r.cancelable||!0)}e.defaults(a,o),t.dispatchEvent(a)},bind:function(e,t,i,n){return e.addEventListener?e.addEventListener(t,i,n||!1):e.attachEvent&&e.attachEvent("on"+t,i),r},unbind:function(e,t,i,n){return e.removeEventListener?e.removeEventListener(t,i,n||!1):e.detachEvent&&e.detachEvent("on"+t,i),r},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var i=e.className.split(/ +/);-1==i.indexOf(t)&&(i.push(t),e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return r},removeClass:function(e,t){if(t){if(void 0!==e.className)if(e.className===t)e.removeAttribute("class");else{var i=e.className.split(/ +/),n=i.indexOf(t);-1!=n&&(i.splice(n,1),e.className=i.join(" "))}}else e.className=void 0;return r},hasClass:function(e,t){return RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){return e=getComputedStyle(e),t(e["border-left-width"])+t(e["border-right-width"])+t(e["padding-left"])+t(e["padding-right"])+t(e.width)},getHeight:function(e){return e=getComputedStyle(e),t(e["border-top-width"])+t(e["border-bottom-width"])+t(e["padding-top"])+t(e["padding-bottom"])+t(e.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do{t.left+=e.offsetLeft,t.top+=e.offsetTop}while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return r}(dat.utils.common),dat.controllers.OptionController=function(e,t,i){var n=function(e,r,o){n.superclass.call(this,e,r);var s=this;if(this.__select=document.createElement("select"),i.isArray(o)){var a={};i.each(o,function(e){a[e]=e}),o=a}i.each(o,function(e,t){var i=document.createElement("option");i.innerHTML=t,i.setAttribute("value",e),s.__select.appendChild(i)}),this.updateDisplay(),t.bind(this.__select,"change",function(){s.setValue(this.options[this.selectedIndex].value)}),this.domElement.appendChild(this.__select)};return n.superclass=e,i.extend(n.prototype,e.prototype,{setValue:function(e){return e=n.superclass.prototype.setValue.call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),n.superclass.prototype.updateDisplay.call(this)}}),n}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.NumberController=function(e,t){var i=function(e,n,r){i.superclass.call(this,e,n),r=r||{},this.__min=r.min,this.__max=r.max,this.__step=r.step,e=(e=this.__impliedStep=t.isUndefined(this.__step)?0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step).toString(),this.__precision=e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0};return i.superclass=e,t.extend(i.prototype,e.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),i.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this}}),i}(dat.controllers.Controller,dat.utils.common),dat.controllers.NumberControllerBox=function(e,t,i){var n=function(e,r,o){function s(){var e=parseFloat(d.__input.value);i.isNaN(e)||d.setValue(e)}function a(e){var t=c-e.clientY;d.setValue(d.getValue()+t*d.__impliedStep),c=e.clientY}function l(){t.unbind(window,"mousemove",a),t.unbind(window,"mouseup",l)}this.__truncationSuspended=!1,n.superclass.call(this,e,r,o);var c,d=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"change",s),t.bind(this.__input,"blur",function(){s(),d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}),t.bind(this.__input,"mousedown",function(e){t.bind(window,"mousemove",a),t.bind(window,"mouseup",l),c=e.clientY}),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&(d.__truncationSuspended=!0,this.blur(),d.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return n.superclass=e,i.extend(n.prototype,e.prototype,{updateDisplay:function(){var e,t=this.__input;if(this.__truncationSuspended)e=this.getValue();else{e=this.getValue();var i=Math.pow(10,this.__precision);e=Math.round(e*i)/i}return t.value=e,n.superclass.prototype.updateDisplay.call(this)}}),n}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common),dat.controllers.NumberControllerSlider=function(e,t,i,n,r){var o=function(e,i,n,r,s){function a(e){e.preventDefault();var i=t.getOffset(c.__background),n=t.getWidth(c.__background);return c.setValue(c.__min+(c.__max-c.__min)*((e.clientX-i.left)/(i.left+n-i.left))),!1}function l(){t.unbind(window,"mousemove",a),t.unbind(window,"mouseup",l),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}o.superclass.call(this,e,i,{min:n,max:r,step:s});var c=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),t.bind(this.__background,"mousedown",function(e){t.bind(window,"mousemove",a),t.bind(window,"mouseup",l),a(e)}),t.addClass(this.__background,"slider"),t.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return o.superclass=e,o.useDefaultStyles=function(){i.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},n.extend(o.prototype,e.prototype,{updateDisplay:function(){return this.__foreground.style.width=(this.getValue()-this.__min)/(this.__max-this.__min)*100+"%",o.superclass.prototype.updateDisplay.call(this)}}),o}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common),dat.controllers.FunctionController=function(e,t,i){var n=function(e,i,r){n.superclass.call(this,e,i);var o=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===r?"Fire":r,t.bind(this.__button,"click",function(e){return e.preventDefault(),o.fire(),!1}),t.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return n.superclass=e,i.extend(n.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),n}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.BooleanController=function(e,t,i){var n=function(e,i){n.superclass.call(this,e,i);var r=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),t.bind(this.__checkbox,"change",function(){r.setValue(!r.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return n.superclass=e,i.extend(n.prototype,e.prototype,{setValue:function(e){return e=n.superclass.prototype.setValue.call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,n.superclass.prototype.updateDisplay.call(this)}}),n}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.color.toString=function(e){return function(t){if(1==t.a||e.isUndefined(t.a)){for(t=t.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}}(dat.utils.common),dat.color.interpret=function(e,t){var i,n,r=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){return null!==(e=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i))&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){return null!==(e=e.match(/^#([A-F0-9]{6})$/i))&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:e},CSS_RGB:{read:function(e){return null!==(e=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/))&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:e},CSS_RGBA:{read:function(e){return null!==(e=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/))&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return function(){n=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(r,function(r){if(r.litmus(e))return t.each(r.conversions,function(r,o){if(i=r.read(e),!1===n&&!1!==i)return n=i,i.conversionName=o,i.conversion=r,t.BREAK}),t.BREAK}),n}}(dat.color.toString,dat.utils.common),dat.GUI=dat.gui.GUI=function(e,t,i,n,r,o,s,a,l,c,d,u,h,f,p){function m(e,t,i,o){if(void 0===t[i])throw Error("Object "+t+' has no property "'+i+'"');o.color?t=new d(t,i):(t=[t,i].concat(o.factoryArgs),t=n.apply(e,t)),o.before instanceof r&&(o.before=o.before.__li),b(e,t),f.addClass(t.domElement,"c"),i=document.createElement("span"),f.addClass(i,"property-name"),i.innerHTML=t.property;var s=document.createElement("div");return s.appendChild(i),s.appendChild(t.domElement),o=g(e,s,o.before),f.addClass(o,O.CLASS_CONTROLLER_ROW),f.addClass(o,typeof t.getValue()),_(e,o,t),e.__controllers.push(t),t}function g(e,t,i){var n=document.createElement("li");return t&&n.appendChild(t),i?e.__ul.insertBefore(n,params.before):e.__ul.appendChild(n),e.onResize(),n}function _(e,t,i){if(i.__li=t,i.__gui=e,p.extend(i,{options:function(t){return arguments.length>1?(i.remove(),m(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[p.toArray(arguments)]})):p.isArray(t)||p.isObject(t)?(i.remove(),m(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(e){return i.__li.firstElementChild.firstElementChild.innerHTML=e,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof l){var n=new a(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});p.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=i[e],r=n[e];i[e]=n[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(i,e),r.apply(n,e)}}),f.addClass(t,"has-slider"),i.domElement.insertBefore(n.domElement,i.domElement.firstElementChild)}else if(i instanceof a){var r=function(t){return p.isNumber(i.__min)&&p.isNumber(i.__max)?(i.remove(),m(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]})):t};i.min=p.compose(r,i.min),i.max=p.compose(r,i.max)}else i instanceof o?(f.bind(t,"click",function(){f.fakeEvent(i.__checkbox,"click")}),f.bind(i.__checkbox,"click",function(e){e.stopPropagation()})):i instanceof s?(f.bind(t,"click",function(){f.fakeEvent(i.__button,"click")}),f.bind(t,"mouseover",function(){f.addClass(i.__button,"hover")}),f.bind(t,"mouseout",function(){f.removeClass(i.__button,"hover")})):i instanceof d&&(f.addClass(t,"color"),i.updateDisplay=p.compose(function(e){return t.style.borderLeftColor=i.__color.toString(),e},i.updateDisplay),i.updateDisplay());i.setValue=p.compose(function(t){return e.getRoot().__preset_select&&i.isModified()&&C(e.getRoot(),!0),t},i.setValue)}function b(e,t){var i=e.getRoot(),n=i.__rememberedObjects.indexOf(t.object);if(-1!=n){var r=i.__rememberedObjectIndecesToControllers[n];if(void 0===r&&(r={},i.__rememberedObjectIndecesToControllers[n]=r),r[t.property]=t,i.load&&i.load.remembered){if((i=i.load.remembered)[e.preset])i=i[e.preset];else{if(!i[F])return;i=i[F]}i[n]&&void 0!==i[n][t.property]&&(n=i[n][t.property],t.initialValue=n,t.setValue(n))}}}function y(e){s=e.__save_row=document.createElement("li");f.addClass(e.domElement,"has-save"),e.__ul.insertBefore(s,e.__ul.firstChild),f.addClass(s,"save-row");var t=document.createElement("span");t.innerHTML="&nbsp;",f.addClass(t,"button gears");var i=document.createElement("span");i.innerHTML="Save",f.addClass(i,"button"),f.addClass(i,"save");var n=document.createElement("span");n.innerHTML="New",f.addClass(n,"button"),f.addClass(n,"save-as");var r=document.createElement("span");r.innerHTML="Revert",f.addClass(r,"button"),f.addClass(r,"revert");var o=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?p.each(e.load.remembered,function(t,i){w(e,i,i==e.preset)}):w(e,F,!1),f.bind(o,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),s.appendChild(o),s.appendChild(t),s.appendChild(i),s.appendChild(n),s.appendChild(r),A){var s=document.getElementById("dg-save-locally"),a=document.getElementById("dg-local-explain");s.style.display="block",s=document.getElementById("dg-local-storage"),"true"===localStorage.getItem(document.location.href+".isLocal")&&s.setAttribute("checked","checked");var l=function(){a.style.display=e.useLocalStorage?"block":"none"};l(),f.bind(s,"change",function(){e.useLocalStorage=!e.useLocalStorage,l()})}var c=document.getElementById("dg-new-constructor");f.bind(c,"keydown",function(e){e.metaKey&&(67===e.which||67==e.keyCode)&&k.hide()}),f.bind(t,"click",function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),k.show(),c.focus(),c.select()}),f.bind(i,"click",function(){e.save()}),f.bind(n,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),f.bind(r,"click",function(){e.revert()})}function S(e){function t(t){return t.preventDefault(),r=t.clientX,f.addClass(e.__closeButton,O.CLASS_DRAG),f.bind(window,"mousemove",i),f.bind(window,"mouseup",n),!1}function i(t){return t.preventDefault(),e.width+=r-t.clientX,e.onResize(),r=t.clientX,!1}function n(){f.removeClass(e.__closeButton,O.CLASS_DRAG),f.unbind(window,"mousemove",i),f.unbind(window,"mouseup",n)}e.__resize_handle=document.createElement("div"),p.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var r;f.bind(e.__resize_handle,"mousedown",t),f.bind(e.__closeButton,"mousedown",t),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function v(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function x(e,t){var i={};return p.each(e.__rememberedObjects,function(n,r){var o={};p.each(e.__rememberedObjectIndecesToControllers[r],function(e,i){o[i]=t?e.initialValue:e.getValue()}),i[r]=o}),i}function w(e,t,i){var n=document.createElement("option");n.innerHTML=t,n.value=t,e.__preset_select.appendChild(n),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function C(e,t){var i=e.__preset_select[e.__preset_select.selectedIndex];i.innerHTML=t?i.value+"*":i.value}function E(e){0!=e.length&&u(function(){E(e)}),p.each(e,function(e){e.updateDisplay()})}dat.utils.css.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");var A,F="Default";try{A="localStorage"in window&&null!==window.localStorage}catch(e){A=!1}var k,R,T=!0,L=!1,N=[],O=function(e){function t(){localStorage.setItem(document.location.href+".gui",JSON.stringify(i.getSaveObject()))}var i=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),f.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=p.defaults(e,{autoPlace:!0,width:O.DEFAULT_WIDTH}),e=p.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),p.isUndefined(e.load)?e.load={preset:F}:e.preset&&(e.load.preset=e.preset),p.isUndefined(e.parent)&&e.hideable&&N.push(this),e.resizable=p.isUndefined(e.parent)&&e.resizable,e.autoPlace&&p.isUndefined(e.scrollable)&&(e.scrollable=!0);var n=A&&"true"===localStorage.getItem(document.location.href+".isLocal");if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return i.parent?i.getRoot().preset:e.load.preset},set:function(t){for(i.parent?i.getRoot().preset=t:e.load.preset=t,t=0;t<this.__preset_select.length;t++)this.__preset_select[t].value==this.preset&&(this.__preset_select.selectedIndex=t);i.revert()}},width:{get:function(){return e.width},set:function(t){e.width=t,v(i,t)}},name:{get:function(){return e.name},set:function(t){e.name=t,o&&(o.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(t){e.closed=t,e.closed?f.addClass(i.__ul,O.CLASS_CLOSED):f.removeClass(i.__ul,O.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=t?O.TEXT_OPEN:O.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return n},set:function(e){A&&((n=e)?f.bind(window,"unload",t):f.unbind(window,"unload",t),localStorage.setItem(document.location.href+".isLocal",e))}}}),p.isUndefined(e.parent)){if(e.closed=!1,f.addClass(this.domElement,O.CLASS_MAIN),f.makeSelectable(this.domElement,!1),A&&n){i.useLocalStorage=!0;var r=localStorage.getItem(document.location.href+".gui");r&&(e.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=O.TEXT_CLOSED,f.addClass(this.__closeButton,O.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),f.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{void 0===e.closed&&(e.closed=!0);var o=document.createTextNode(e.name);f.addClass(o,"controller-name"),r=g(i,o),f.addClass(this.__ul,O.CLASS_CLOSED),f.addClass(r,"title"),f.bind(r,"click",function(e){return e.preventDefault(),i.closed=!i.closed,!1}),e.closed||(this.closed=!1)}e.autoPlace&&(p.isUndefined(e.parent)&&(T&&(R=document.createElement("div"),f.addClass(R,"dg"),f.addClass(R,O.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(R),T=!1),R.appendChild(this.domElement),f.addClass(this.domElement,O.CLASS_AUTO_PLACE)),this.parent||v(i,e.width)),f.bind(window,"resize",function(){i.onResize()}),f.bind(this.__ul,"webkitTransitionEnd",function(){i.onResize()}),f.bind(this.__ul,"transitionend",function(){i.onResize()}),f.bind(this.__ul,"oTransitionEnd",function(){i.onResize()}),this.onResize(),e.resizable&&S(this),i.getRoot(),e.parent||function(){var e=i.getRoot();e.width+=1,p.defer(function(){e.width-=1})}()};return O.toggleHide=function(){L=!L,p.each(N,function(e){e.domElement.style.zIndex=L?-999:999,e.domElement.style.opacity=L?0:1})},O.CLASS_AUTO_PLACE="a",O.CLASS_AUTO_PLACE_CONTAINER="ac",O.CLASS_MAIN="main",O.CLASS_CONTROLLER_ROW="cr",O.CLASS_TOO_TALL="taller-than-window",O.CLASS_CLOSED="closed",O.CLASS_CLOSE_BUTTON="close-button",O.CLASS_DRAG="drag",O.DEFAULT_WIDTH=245,O.TEXT_CLOSED="Close Controls",O.TEXT_OPEN="Open Controls",f.bind(window,"keydown",function(e){"text"!==document.activeElement.type&&(72===e.which||72==e.keyCode)&&O.toggleHide()},!1),p.extend(O.prototype,{add:function(e,t){return m(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return m(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;p.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&R.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};return t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]),t=new O(t),this.__folders[e]=t,e=g(this,t.domElement),f.addClass(e,"folder"),t},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=f.getOffset(e.__ul).top,i=0;p.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(i+=f.getHeight(t))}),window.innerHeight-t-20<i?(f.addClass(e.domElement,O.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(f.removeClass(e.domElement,O.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&p.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){if(p.isUndefined(k)&&(k=new h,k.domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw Error("You can only call remember on a top level GUI.");var e=this;p.each(Array.prototype.slice.call(arguments),function(t){0==e.__rememberedObjects.length&&y(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&v(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=x(this)),e.folders={},p.each(this.__folders,function(t,i){e.folders[i]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=x(this),C(this,!1)},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[F]=x(this,!0)),this.load.remembered[e]=x(this),this.preset=e,w(this,e,!0)},revert:function(e){p.each(this.__controllers,function(t){this.getRoot().load.remembered?b(e||this.getRoot(),t):t.setValue(t.initialValue)},this),p.each(this.__folders,function(e){e.revert(e)}),e||C(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&E(this.__listening)}}),O}(0,0,0,dat.controllers.factory=function(e,t,i,n,r,o,s){return function(a,l,c,d){var u=a[l];return s.isArray(c)||s.isObject(c)?new e(a,l,c):s.isNumber(u)?s.isNumber(c)&&s.isNumber(d)?new i(a,l,c,d):new t(a,l,{min:c,max:d}):s.isString(u)?new n(a,l):s.isFunction(u)?new r(a,l,""):s.isBoolean(u)?new o(a,l):void 0}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(e,t,i){var n=function(e,i){function r(){o.setValue(o.__input.value)}n.superclass.call(this,e,i);var o=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"keyup",r),t.bind(this.__input,"change",r),t.bind(this.__input,"blur",function(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return n.superclass=e,i.extend(n.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),n.superclass.prototype.updateDisplay.call(this)}}),n}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,dat.controllers.ColorController=function(e,t,i,n,r){function o(e,t,i,n){e.style.background="",r.each(l,function(r){e.style.cssText+="background: "+r+"linear-gradient("+t+", "+i+" 0%, "+n+" 100%); "})}function s(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var a=function(e,l){function c(e){f(e),t.bind(window,"mousemove",f),t.bind(window,"mouseup",d)}function d(){t.unbind(window,"mousemove",f),t.unbind(window,"mouseup",d)}function u(){var e=n(this.value);!1!==e?(m.__color.__state=e,m.setValue(m.__color.toOriginal())):this.value=m.__color.toString()}function h(){t.unbind(window,"mousemove",p),t.unbind(window,"mouseup",h)}function f(e){e.preventDefault();var i=t.getWidth(m.__saturation_field),n=t.getOffset(m.__saturation_field),r=(e.clientX-n.left+document.body.scrollLeft)/i;return(e=1-(e.clientY-n.top+document.body.scrollTop)/i)>1?e=1:e<0&&(e=0),r>1?r=1:r<0&&(r=0),m.__color.v=e,m.__color.s=r,m.setValue(m.__color.toOriginal()),!1}function p(e){e.preventDefault();var i=t.getHeight(m.__hue_field),n=t.getOffset(m.__hue_field);return(e=1-(e.clientY-n.top+document.body.scrollTop)/i)>1?e=1:e<0&&(e=0),m.__color.h=360*e,m.setValue(m.__color.toOriginal()),!1}a.superclass.call(this,e,l),this.__color=new i(this.getValue()),this.__temp=new i(0);var m=this;this.domElement=document.createElement("div"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",t.bind(this.__input,"keydown",function(e){13===e.keyCode&&u.call(this)}),t.bind(this.__input,"blur",u),t.bind(this.__selector,"mousedown",function(){t.addClass(this,"drag").bind(window,"mouseup",function(){t.removeClass(m.__selector,"drag")})});var g=document.createElement("div");r.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(g.style,{width:"100%",height:"100%",background:"none"}),o(g,"top","rgba(0,0,0,0)","#000"),r.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),s(this.__hue_field),r.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),t.bind(this.__saturation_field,"mousedown",c),t.bind(this.__field_knob,"mousedown",c),t.bind(this.__hue_field,"mousedown",function(e){p(e),t.bind(window,"mousemove",p),t.bind(window,"mouseup",h)}),this.__saturation_field.appendChild(g),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};a.superclass=e,r.extend(a.prototype,e.prototype,{updateDisplay:function(){var e=n(this.getValue());if(!1!==e){var t=!1;r.each(i.COMPONENTS,function(i){if(!r.isUndefined(e[i])&&!r.isUndefined(this.__color.__state[i])&&e[i]!==this.__color.__state[i])return t=!0,{}},this),t&&r.extend(this.__color.__state,e)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,a=255-s;r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,o(this.__saturation_field,"left","#fff",this.__temp.toString()),r.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var l=["-moz-","-o-","-webkit-","-ms-",""];return a}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(e,t,i,n){function r(e,t,i){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(s(this,t,i),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(s(this,t,i),this.__state.space="RGB"),this.__state[t]=e}})}function o(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(a(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[t]=e}})}function s(e,i,r){if("HEX"===e.__state.space)e.__state[i]=t.component_from_hex(e.__state.hex,r);else{if("HSV"!==e.__state.space)throw"Corrupted color state";n.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function a(e){var i=t.rgb_to_hsv(e.r,e.g,e.b);n.extend(e.__state,{s:i.s,v:i.v}),n.isNaN(i.h)?n.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=i.h}var l=function(){if(this.__state=e.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS="r,g,b,h,s,v,hex,a".split(","),n.extend(l.prototype,{toString:function(){return i(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(l.prototype,"r",2),r(l.prototype,"g",1),r(l.prototype,"b",0),o(l.prototype,"h"),o(l.prototype,"s"),o(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),l}(dat.color.interpret,dat.color.math=function(){var e;return{hsv_to_rgb:function(e,t,i){var n=e/60-Math.floor(e/60),r=i*(1-t),o=i*(1-n*t);return{r:255*(e=[[i,t=i*(1-(1-n)*t),r],[o,i,r],[r,i,t],[r,o,i],[t,r,i],[i,r,o]][Math.floor(e/60)%6])[0],g:255*e[1],b:255*e[2]}},rgb_to_hsv:function(e,t,i){var n=Math.min(e,t,i),r=Math.max(e,t,i),n=r-n;return 0==r?{h:NaN,s:0,v:0}:(e=e==r?(t-i)/n:t==r?2+(i-e)/n:4+(e-t)/n,(e/=6)<0&&(e+=1),{h:360*e,s:n/r,v:r/255})},rgb_to_hex:function(e,t,i){return e=this.hex_with_component(0,2,e),e=this.hex_with_component(e,1,t),e=this.hex_with_component(e,0,i)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(t,i,n){return n<<(e=8*i)|t&~(255<<e)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},dat.dom.CenteredDiv=function(e,t){var i=function(){this.backgroundElement=document.createElement("div"),t.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),t.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var i=this;e.bind(this.backgroundElement,"click",function(){i.hide()})};return i.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),t.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},i.prototype.hide=function(){var t=this,i=function(){t.domElement.style.display="none",t.backgroundElement.style.display="none",e.unbind(t.domElement,"webkitTransitionEnd",i),e.unbind(t.domElement,"transitionend",i),e.unbind(t.domElement,"oTransitionEnd",i)};e.bind(this.domElement,"webkitTransitionEnd",i),e.bind(this.domElement,"transitionend",i),e.bind(this.domElement,"oTransitionEnd",i),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},i.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"},i}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common),function(){function e(){g=new FSS.WebGLRenderer,_=new FSS.CanvasRenderer,b=new FSS.SVGRenderer,t(C.renderer)}function t(e){switch(u&&F.removeChild(u.element),e){case v:u=g;break;case x:u=_;break;case w:u=b}u.setSize(A.offsetWidth,A.offsetHeight),F.appendChild(u.element)}function i(){h=new FSS.Scene}function n(){h.remove(f),u.clear(),p=new FSS.Plane(y.width*u.width,y.height*u.height,y.slices),m=new FSS.Material(y.ambient,y.diffuse),f=new FSS.Mesh(p,m),h.add(f)}function r(){u.clear(),light=new FSS.Light(S.ambient,S.diffuse),light.ambientHex=light.ambient.format(),light.diffuseHex=light.diffuse.format(),light.setPosition(S.xPos,S.yPos,S.zOffset),h.add(light),S.proxy=light,S.pickedup=!0,S.currIndex++}function o(e,t){u.setSize(e,t),FSS.Vector3.set(E,u.halfWidth,u.halfHeight),n()}function s(){a(),requestAnimationFrame(s)}function a(){u.render(h)}function l(){window.addEventListener("resize",c),A.addEventListener("mousemove",d)}function c(e){o(A.offsetWidth,A.offsetHeight),a()}function d(e){S.pickedup&&(S.xPos=e.x-u.width/2,S.yPos=u.height/2-e.y,S.proxy.setPosition(S.xPos,S.yPos,S.proxy.position[2]))}var u,h,f,p,m,g,_,b,y={width:1.2,height:1.2,slices:250,ambient:"#555555",diffuse:"#FFFFFF"},S={count:1,xPos:0,yPos:150,zOffset:100,ambient:"#232E3E",diffuse:"#E9AAB2",pickedup:!0,proxy:!1,currIndex:0},v="webgl",x="canvas",w="svg",C={renderer:x},E=FSS.Vector3.create(),A=document.getElementById("container"),F=(document.getElementById("controls"),document.getElementById("output"));e(),i(),n(),r(),r(),l(),o(A.offsetWidth,A.offsetHeight),s()}();